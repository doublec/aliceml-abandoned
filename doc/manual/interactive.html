<?php include("macros.php3"); ?>
<?php heading("Interactive Top-level", "interactive\ntop-level") ?>

<?php section("overview", "overview") ?>

<P>The interactive top-level provides an interpreter-style environment that
allows entering and evaluating programs from an interactive prompt.</P>

<P>The interactive top-level is designed to work with the standard <A
href="ftp://ftp.research.bell-labs.com/dist/smlnj/contrib/emacs/">Emacs
mode</A> for SML. A patched version of that mode, modified to harmonize with
Alice ML syntax extensions, is also available from the Alice<A
HREF="http://www.ps.uni-sb.de/alice/download.html#emacs"> download
page</A>.</P>


<?php section("synopsis", "synopsis") ?>

<DL>
  <DT><TT>alice</TT> [<I>&lt;options&gt;</I>]</DT>
</DL>


<?php section("description", "description") ?>

<P>After preloading several components, the system will enter an interactive
input-eval-output session. It allows entering arbitrary Alice components. Input
can stretch several lines, it is terminated by a line containing a semicolon as
its last character. The system will print the results and inferred types
for the given declarations, or an appropriate error message.</P>

<P>Note that the <TT>inspect</TT> function from the <A
href="library/inspector.html">Inspector</A> is available to browse complex
results conveniently.</P>

<P>Like in other SML systems, there also is the special purpose function</P>

<PRE class=code>
use : string -> unit</PRE>

<P>which, given the name of an Alice source file, will process this file as if
it had been fed as direct input.</P>

<P>A computation can be interrupted using Ctrl-C (the Posix signal SIGINT, Ctrl-Break on Windows systems). Likewise, typed input can be discarded with Ctrl-C (Ctrl-Break on Windows).</P>

<P>A running computation can also be put into background using Ctrl-Z (the Posix signal SIGTSTP, Ctrl-D on Windows), getting you back to the prompt. The computation will proceed concurrently. Intuitively, the effect is roughly as if the initial input had been prefixed with <A href="futures.html#spawn"><TT>spawn</TT></A>. However, it works for arbitrary inputs, particularly declarations.</P>

<P>An interactive session can be terminated by typing an end-of-file character
(Ctrl-D on Unix systems, Ctrl-Z on Windows systems).</P>


<?php subsection("description-import", "imports") ?>

<P>Each input in the interactive toplevel actually is a <A
href="components.html">component</A>. This implies that import announcements
can be entered to link in separately compiled components from arbitrary
URIs:</P>

<PRE class=code>
- import structure Foo from "http://www.mydomain.net/Foo";
### loaded signature from http://www.mydomain.net/Foo
structure Foo : FOO = Foo
- </PRE>

<P>For convenience, it is possible to abbreviate import announcements as
follows in the interactive top-level:</P>

<PRE class=code>
- import "http://www.mydomain.net/Foo";
### loaded signature from http://www.mydomain.net/Foo
structure Foo : FOO = Foo
- </PRE>

<P>Such an announcement will import all items exported by the corresponding
component.</P>

<P>All <A href="library/index.html">library</A> components (except the <A
href="library/#gtk">GTK</A> library) are pre-imported in the interactive
top-level and will get loaded automatically on demand.</A>


<?php section("options", "options") ?>

<P>The same command line options are supported as for the standalone <A
href="compiler.html#options">batch compiler</A>.</P>


<?php section("environment-variables", "environment variables") ?>

<P>The interactive top-level is parameterized by the same environment
variables as the <A href="compiler.html#environment-variables">batch
compiler</A>.</P>


<?php footing() ?>
